<div *ngIf="post">
  <div *ngIf="editMode; else viewMode">
    <input [(ngModel)]="post.title" placeholder="Post Title" />
    <textarea [(ngModel)]="post.content" placeholder="Post Content"></textarea>
    <input [(ngModel)]="post.authorName" placeholder="Author Name" />
    <select [(ngModel)]="post.categoryId">
      <option *ngFor="let category of categories" [value]="category.id">
        {{ category.name }}
      </option>
    </select>
    <button (click)="savePost()">Save</button>
    <button (click)="toggleEditMode()">Cancel</button>
    <button (click)="openCategoryDialog()">Add New Category</button>
  </div>
  <ng-template #viewMode>
    <h2>{{ post.title }}</h2>
    <p>{{ post.content }}</p>
    <p><strong>Author:</strong> {{ post.authorName }}</p>
    <p><strong>Category:</strong> {{ post.categoryName }}</p>
    <button (click)="toggleEditMode()">Edit Post</button>
  </ng-template>

  <h3>Comments</h3>
  <ul>
    <li *ngFor="let comment of comments">
      <strong>{{ comment.authorName }}</strong>: {{ comment.content }}
    </li>
  </ul>

  <div>
    <textarea [(ngModel)]="newComment" placeholder="Add a comment"></textarea>
    <button (click)="addComment()">Submit</button>
  </div>
</div>
