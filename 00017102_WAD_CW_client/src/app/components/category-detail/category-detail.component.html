<div class="container mt-4">
  <h1>Category: {{ category.name }}</h1>

  <!-- Edit and Delete Buttons -->
  <div class="d-flex justify-content-end">
    <button *ngIf="!isEditMode"
            class="btn btn-outline-secondary me-2"
            (click)="toggleEditMode()">
      Edit
    </button>
    <button *ngIf="!isEditMode"
            class="btn btn-outline-danger"
            (click)="deleteCategory()">
      Delete
    </button>
  </div>

  <!-- Edit Mode Input -->
  <div *ngIf="isEditMode" class="mt-3">
    <label for="categoryName" class="form-label">Edit Category Name</label>
    <div class="input-group">
      <input type="text"
             id="categoryName"
             class="form-control"
             [(ngModel)]="category.name" />
      <button class="btn btn-primary"
              (click)="saveCategoryChanges()">
        Save
      </button>
      <button class="btn btn-secondary"
              (click)="toggleEditMode()">
        Cancel
      </button>
    </div>
  </div>

  <!-- List of Posts -->
  <div *ngIf="posts.length > 0; else noPosts" class="mt-4">
    <h3>Posts in this Category</h3>
    <div class="list-group">
      <a *ngFor="let post of posts"
         [routerLink]="['/post', post.id]"
         class="list-group-item list-group-item-action">
        <h5 class="mb-1">{{ post.title }}</h5>
        <p class="mb-1">By {{ post.authorName }}</p>
        <small>Created: {{ post.createdDate | date }}</small>
      </a>
    </div>
  </div>

  <!-- No Posts Placeholder -->
  <ng-template #noPosts>
    <p class="mt-4">No posts available in this category.</p>
  </ng-template>
</div>
